<!DOCTYPE html">
<html lang="en" >
<head><meta charset="utf-8">
<title>Test for Titles and Interleaving Checkbox</title>
  <link rel="stylesheet" type="text/css" href="../page.css" />
  <link rel="stylesheet" type="text/css" href="correspondence.css" />
  <script language="javascript" type="text/javascript" src="lib/jquery-1.10.1.js"></script>
  <script language="javascript" type="text/javascript" src="correspondence.js"></script>
  <script language="javascript" type="text/javascript" src="module-simulator.js"></script>
<script language="Javascript">
MODULE_SIMULATOR.startScript("../utils.js");
</script>

  <script language="javascript" type="text/javascript" src="../utils.js"></script>
<script language="Javascript">
MODULE_SIMULATOR.endScript();

MODULE_SIMULATOR.startScript("../bracketup.js");
</script>
  <script language="javascript" type="text/javascript" src="../bracketup.js"></script>
<script language="Javascript">
MODULE_SIMULATOR.endScript();

MODULE_SIMULATOR.startScript("../correspondence-bracketup.js");
</script>
  <script language="javascript" type="text/javascript" src="../correspondence-bracketup.js"></script>
<script language="Javascript">
MODULE_SIMULATOR.endScript();

MODULE_SIMULATOR.startScript("correspondence-configuration.js");
</script>
  <script language="javascript" type="text/javascript" src="correspondence-configuration.js"></script>
</head>
<!-- No endScript required for last script in sequence -->

<body>
<h1>Test for Error-Handling</h1>

<div class="author">Author: <a href="http://thinkinghard.com">Philip Dorrell</a></div>

<p>This page demonstrates how <a href="../index.html">Bracketup</a> compilation error messages are displayed in the browser.</p>

<h2>Error Example with a Mis-Spelt Function Name</h2>

<!-- The following script element is the actual source for this page. It is interpreted
by the Javascript code to generate the DOM, in the HTML format required by the Correspondence framework.-->
<noscript>There is content here in the page which cannot be viewed unless you have Javascript enabled.</noscript>
<script type="text/correspondence-bracketup">

[translation [_title Hello]
 [english [_languageTitle English]
  [A [1 Hello] [2 World]]
 ]
 [spanish [_languageTitle Spanish]
  [A [2 Hola]]
 ]
]

[translation
 [english [_longuageTitle English]
  [A [1 Hello]]
 ]
 [spanish [_languageTitle Spanish]
  [A [2 Hola]]
 ]
]
</script>

<p>(Note: the pointer is pointing at the "[", because the error message is currently associated with the 
lexed token consisting of "[_longuageTitle ".)</p>

<h2>Error Examples With Too Many or Too Few Closing Brackets</h2>

<p>Errors with closing brackets can be hard to trace, because the point where the error becomes apparent
may be much later than the point where the mistake was made.</p>

<p>To help with tracing such errors, if a "too many" or "too few" closing brackets error occurs, the
source code is shown with the following information:</p>

<ul>
 <li>Current bracket depth at start of line (which should be zero at the first line, and at the end of any completed
<b>translation</b> block), e.g. <div class="parsed-tokens example"><div class="line"><div class="depth-indent">...</div><div class="depth-indent">...</div></div></div></li>
 <li>All start and end tokens which are not balanced on the same line, e.g. <div class="parsed-tokens example"><div class="line"><div class="open unbalanced" title="Bracket is balanced by a bracket on a different line">[translation</div></div></div></li>
 <li>All unexpected closing brackets, e.g. <div class="parsed-tokens example"><div class="line"><div class="close unexpected" title="Unexpected closing bracket">]</div></div></div></li>
</ul>

<h3>Error Example with Too Many Closing Brackets</h3>

<p>This example has extra closing brackets. But the error location is not the actual location of the closing
brackets that need to be deleted. (There is a surplus bracket at the end of "Hello World" line,
and another one after the word "Spanish".)</p>

<noscript>There is content here in the page which cannot be viewed unless you have Javascript enabled.</noscript>
<script type="text/correspondence-bracketup">

[translation [_title Hello]
 [english [_languageTitle English]
  [A [1 Hello] [2 World]]]
  [B [1 Goodbye]]
 ]
 [spanish [_languageTitle Spanish]]
  [A [1 Hola]]
  [B [1 Adios]]
 ]
]
</script>

<h3>Error Example with Not Enough Closing Brackets</h3>

<p>This example has a missing closing bracket. But the error location is not the actual location of the closing
bracket that needs to be inserted. (There is a closing bracket missing after "Goodbye".)</p>

<noscript>There is content here in the page which cannot be viewed unless you have Javascript enabled.</noscript>
<script type="text/correspondence-bracketup">
[translation
 [english [_languageTitle English]
  [A [1 Hello]]
  [B [1 Goodbye]
 ]
 [spanish [_languageTitle Spanish]
  [A [1 Hola]]
  [B [1 Adios]]
 ]
]
</script>

<h3>Error Example with Extra Closing Bracket at the End</h3>

<p>This example has one extra closing bracket at the end. This forces the error display, but since only the
very last closing bracket is invalid, it lets you see how the rest of the source code is displayed when it is valid.</p>

<noscript>There is content here in the page which cannot be viewed unless you have Javascript enabled.</noscript>
<script type="text/correspondence-bracketup">

[translation [_title Hello]
 [english [_languageTitle English]
  [A [1 Hello] [2 World]]
  [B [1 Goodbye]]
 ]
 [spanish [_languageTitle Spanish]
  [A [1 Hola]]
  [B [1 Adios]]
 ]
]
]
</script>


<div class="date">Last updated: 12 October 2013</div>

</body>
</html>
